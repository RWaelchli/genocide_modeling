\documentclass[11pt]{article}
\usepackage{geometry}                
\geometry{letterpaper}                   

\usepackage{graphicx}
\usepackage{amssymb}
\usepackage{epstopdf}
\usepackage{natbib}
\usepackage{amssymb, amsmath}
\DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}

%\title{Title}
%\author{Name 1, Name 2}
%\date{date} 

\begin{document}


\input{cover}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newpage
\section*{Agreement for free-download}
\bigskip


\bigskip


\large We hereby agree to make our source code for this project freely available for download from the web pages of the SOMS chair. Furthermore, we assure that all source code is written by ourselves and is not violating any copyright restrictions.

\begin{center}

\bigskip


\bigskip


\begin{tabular}{@{}p{3.3cm}@{}p{6cm}@{}@{}p{6cm}@{}}
\begin{minipage}{3cm}

\end{minipage}
&
\begin{minipage}{6cm}
\vspace{2mm} \large Ruben W\"alchli

 \vspace{\baselineskip}

\end{minipage}
&
\begin{minipage}{6cm}

\large Zoran Bjelobrk

\end{minipage}
\end{tabular}


\end{center}
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



% IMPORTANT
% you MUST include the ETH declaration of originality here; it is available for download on the course website or at http://www.ethz.ch/faculty/exams/plagiarism/index_EN; it can be printed as pdf and should be filled out in handwriting


%%%%%%%%%% Table of content %%%%%%%%%%%%%%%%%

\tableofcontents

\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{Abstract}

\section{Individual contributions}

\section{Introduction and Motivations}
Ethnical conflicts were omnipresent throughout human history and still are a major source for civil violence in these days. For instance, the wars leading to the decay of former Yugoslavia are an example in recent history. When studying the project suggestions, this topic immediately drew our interest. Our project is a so-called "model-driven" project. The base model was described by Epstein in 2002. It contains some very strong simplifications as further described in section \ref{subsec:base_model}. Our approach was to modify the model in a way that describes reality better in our opinion and to compare the results of the model runs to those presented in literature. To further assess the model in a quantitative manner, a global sensitivity analysis was performed for various model parameters based on a method described in literature.

\section{Description of the Model}
\label{sec:description_model}

\subsection{Base Model}
\label{subsec:base_model}
The model is a so-called agent-based model. There are two fundamental classes of agents: civilians and law enforcement officers (LEOs). The only purpose of the LEO is to prevent violence through arresting active, this means violent, civilians. The civilians are further divided into two ethnical groups. They become active or stay quiet (peaceful) based on the values of their individual characteristics and the environment within their range of sight. The agents are placed on a two-dimensional map on which they can move and interact with each other.

\subsubsection{Specification of the Civilians}
The will of a civilian to become violent is described by its grievance $G$. This individual grievance is described by two components: the hardship $H$ of the civilian and his/her perceived legitimacy of the other ethnic group $L$.
\begin{align}
G = H (1 - L)
\end{align}
The grievance of the individual civilian is according to this formula given by the hardship multiplied by the "illegitimacy" $(1 - L)$ of the other ethnic group. The hardship is heterogeneous across the civilians. It is initialized for each civilian at the beginning of the simulation by drawing it from the uniform distribution on the interval $[0,1]$ ($U(0,1)$) and it remains constant over the course of the simulation. $L$ is homogeneous across all civilians and also stays constant. It is also equal for both ethnic groups. It is defined at the beginning of the simulation and also lies between 0 and 1.\\
\\
$R$ is the risk aversion of the civilian. It is heterogeneous across the population and also drawn upon initialization from $U(0,1)$. A civilian inspects its environment before deciding whether to go active or stay quiet (and vice versa). The civilians have the vision $v$, which is homogeneous across the population and is defined at the beginning of the simulation.
\begin{align}
P = 1 - \exp \left( - k_P \left( \frac{LEO}{A} \right)_v \right)
\end{align}
$P$ is the arrest probability estimated by the civilian. $\left(LEO/A\right)_v$ is the LEO-to-active ratio within the civilians vision. $A$ is always at least $1$, because the civilian counts himself as active when calculating the arrest probability. The reasoning behind this calculation is, that it is less likely for the civilian to be arrested, when already a lot of other civilians are acting violently and very few LEOs are present around him. The opposite can be said, if there are a lot of LEOs and only few or no active civilians. $k$ is a constant parameter, that is calculated by setting $P = 0.9$ when $\left(LEO/A\right)_v = 1$. With the risk aversion and the estimated arrest probability the so-called net risk of the civilian of going active can be calculated:
\begin{align}
N = RP
\end{align}
The difference $G - N$ is the civilian's net utility of becoming active. This is compared to a threshold value $T$. If $(G - N) > T$ the civilian becomes or stays active and if $(G - N) \leq T$ the civilian stays or becomes quiet. The threshold value $T$ is equal for all civilians and defined at the beginning of the simulation.

\subsubsection{Specification of the LEOs}
The LEOs have only one characteristic, their vision $v^\star$. They inspect the map within their vision and randomly arrest an active civilian.

\subsubsection{Evolution of the Simulation}
After choosing values for the global parameters, the three different types of agents are placed on the map randomly and their individual attributes are initialized. The number of civilians and LEOs that are placed on the map are determined by their corresponding selected densities. In each iteration begins by the random selection of one agent (civilian or LEO). This agent moves to a random empty position within his vision. There he inspects his environment. If the agent is a civilian he takes the decision to be active or quiet. When he decides to become active, he tries to kill a random civilian of the other ethnic group within his vision. If the selected agent is a LEO, he arrests a random active civilian within his vision. The arrested civilian is assigned a jail term and moved to the jail. The jail term is drawn from $U(0,J_{\text{max}})$. The ages both of the civilians on the map as well as of those in jail are updated and the civilians that have reached their maximum age are removed. The number of turns of the inmates spent in jail are updated and those who have served their time are released onto random positions on the map.

\subsection{Modification of the Model}

\subsubsection{Individual Perceived Legitimacy and Threshold}
In our opinion, the assumption that the perceived legitimacy of the other ethnic group and the threshold value are identical for all individuals of the population is too harsh. Therefore, we wanted to make them individual quantities. To us it also seemed not realistic to have the perceived legitimacy uniformly distributed throughout the population. Therefore, we decided to use the Gaussian distribution truncated to the interval $[0,1]$. In the modified model the perceived legitimacy of the other ethnic group is initialized for all civilians by drawing it from this distribution. This adds two parameters to the model: the mean $\mu_L$ and the standard deviation $\sigma_L$ of the legitimacy.\\
\\
The threshold $T$ can be seen as the level of "extremism" an individual has. Epstein describes it as the utility of not publicly expressing one's private grievance. A very extreme individual will see absolutely no utility in holding his private grievance back, whether a very conservative individual will almost never publicly express his private grievance. The difference $(G-N)$ on the other hand is the perceived utility to describe one's private grievance and it can take values in the interval $[-1,1]$. A civilian with $T = -1$ will always be active, whereas a civilian with $T = 1$ will never be active. As said before, it is probably unrealistic to have the threshold value uniformly distributed over the population. Therefore, it is also drawn upon initialization of the civilians from the truncated Gaussian distribution on the interval $[-1,1]$ adding another two parameters to the model ($\mu_T$ and $\sigma_T$).\\
\\
For the sake of simplicity and to make the sensitivity analysis described later not computationally too expensive it is renounced to also change the distributions of the other individual characteristics of the civilians ($H$ and $R$) to the described truncated Gaussian distribution.

\subsubsection{Updating the Perceived Legitimacy}
It seems quite obvious that the perceived legitimacy of the other ethnic group should not be a constant over the course of the simulation. Violence committed by one ethnic group will probably decrease its perceived legitimacy in the eyes of the other ethnic group. The opposite effect will possibly have the arrest of a active (violent) civilian on the perceived legitimacy of its ethnic group. In our expansion of the model, these effects are limited to the range of sight of the involved killed or active civilian. The update in the case of violence is the following:
\begin{align}
L_{\text{new}} = L_{\text{old}} \left( 1 - k_L \right)
\end{align}
When an active civilian is arrested, the updates is given by:
\begin{align}
L_{\text{new}} = L_{\text{old}} + k_L \left( 1 - L_{\text{old}} \right)
\end{align}
The reasoning behind both formulas is that if the perceived legitimacy is either very high or very low, violence and arrests only change little in the legitimacy (saturation effect). On the other hand, when a civilian is unsure, if the other ethnic group has the right to exist (medium value of $L$) such events can have a strong influence.

\section{Implementation}
The whole implementation is based on arrays of structs of which the one describing the map is in the center of the program. This way of implementation may not be the fastest possible, but in our opinion the most intuitive one.

\subsection{Base Model}
The fields of the struct used to describe the agents are shown in table \ref{tab:fields_struct}. The central part of the program is the map, an array of size $(N \times N)$ containing this struct as entries, where $N$ is the map size. The individual values of the fields are initialized at the beginning using the function $fun\_init\_map()$, which returns the initialized map array with all the civilians and LEOs. Type equal to 1, 2 or 3 indicates that the agent is a civilian of the ethnic group 1, group 2 or a LEO. For a LEO only the field v is also different from the default value.
\begin{table}[!htbp]
	\centering
	\caption{The fields of the struct used to describe the single agents and their meaning and default value.}
	\vspace{0.5 cm}
		\begin{tabular}{l | l | l} 
			Field Name & Quantity & Default Value\\
			\hline
			type & Type of the Agent & 0\\
			H & Agent's Hardship & 0\\
			L & Agent's Perceived Legitimacy & 0\\
			v & Agent's Vision & 0\\
			T & Agent's Violence Threshold & 0\\
			R & Agent's Risk Aversion & 0\\
			state & Agent's State & 0\\
			age & Agent's Age & 0\\
			life\_exp & Agent's Life Expectancy & 0\\
			sentenced & Agent's Jail Term & 0\\
			served & Agent's Served Time in Jail & 0
	\end{tabular}
	\label{tab:fields_struct}
\end{table}
The jail is an array of size $(J_{max} \times 1)$ with the struct from table \ref{tab:fields_struct} as entries. The reasoning behind the size of the jail array is that it has to be large enough that theoretically in every iteration a civilian could be send to jail. The function $fun\_movement()$ moves the randomly selected agent, updates the map accordingly and returns the new position of the agent. If the agent is a LEO, the function $fun\_action\_LEO()$ inspects the fields within vision of the new position and if one is present, randomly moves an active civilian to the jail. To do so, it first assigns the civilian a random jail term (field "sentenced"). Then copies the civilians struct entries to an empty position in the jail and erases the civilian from the map by setting the struct fields at its position to the default values.\\
\\
If the selected and moved agent is a civilian, the function $fun\_action\_civ()$ is called. It first inspects the surrounding of the new position and determines the current value of $P$ and with this the net risk $N$. The grievance $G$ is also computed and it is checked if $(G-N)$ is larger or smaller than $T$. If it is larger, civilians of the other ethnic group within vision are searched. When there is one present, he is killed by setting all the values of the struct at his position to the default values. If there is no such civilian present, the agent remains quiet although he wants to become active. If $(G-N)$ is smaller than $T$, the selected civilian remains quiet in any case. The function returns the changed map and if there has been a kill.\\
\\
After moving the agent and performing its action, the function $fun\_clone()$ is called. It goes through all civilians on the map in a random order. For each civilian it checks, if there are empty position right next to him. When there is an empty position, the civilian is cloned with probability $P_c$ onto this position by copying the struct of the selected civilian. The age of the newly created civilian is reset to 0.\\
\\
The $fun\_update\_map()$ function updates the ages of the civilians on the map and removes those who have reached their life expectancy by reseting the struct on those positions to the default one.\\
\\
The jail is updated using the function $fun\_update\_jail()$. First it updates the ages and the served time of the civilians in jail, then it removes civilians that have reached their life expectancy and releases the civilians that have served their sentence onto random empty positions on the map. The structs of those civilians in the jail array are reset to the default values. The civilians are released in the quiet state, all other characteristics remain unchanged.

\section{Simulation Results and Discussion}

\section{Summary and Outlook}

\section{References}






\end{document}  



 
